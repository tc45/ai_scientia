{% load static %}
<select name="{{ widget.name }}"{% include "django/forms/widgets/attrs.html" %}>
    {% for group_name, group_choices, group_index in widget.optgroups %}
        {% if group_name %}
            <optgroup label="{{ group_name }}">
        {% endif %}
        {% for option in group_choices %}
            <option value="{{ option.value|stringformat:'s' }}"
                    {% if option.selected %} selected="selected"{% endif %}
                    data-icon="{{ option.value }}">
                {{ option.label }}
            </option>
        {% endfor %}
        {% if group_name %}
            </optgroup>
        {% endif %}
    {% endfor %}
</select>